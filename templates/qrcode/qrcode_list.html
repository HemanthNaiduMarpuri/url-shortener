{% extends "base.html" %}
{% block title %}My QR Codes{% endblock %}
{% block content %}

<!-- Header -->
<div class="flex items-center justify-between mb-6">
  <div>
    <h2 class="text-2xl font-bold text-gray-800">My QR Codes</h2>
    <p class="text-sm text-gray-500">
      Manage and download your generated QR codes
    </p>
  </div>

  <a href="{% url 'create_qrcode' %}"
     class="px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700">
    âž• Create QR
  </a>
</div>

{% if qr_list %}
<!-- Grid -->
<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">

  {% for qr in qr_list %}
  <div class="bg-white rounded-xl shadow-sm border p-5 flex flex-col items-center text-center">

    <!-- QR Image -->
    <img src="{{ qr.qrcode.url }}"
         alt="QR Code"
         class="h-36 w-36 object-contain mb-4">

    <!-- URL -->
    <p class="text-sm text-gray-600 break-all mb-3">
      {{ qr.url }}
    </p>

    <!-- Status -->
    {% if qr.is_expired %}
      <span class="mb-3 px-3 py-1 text-xs bg-red-100 text-red-600 rounded-full">
        Expired
      </span>
    {% else %}
      <span class="mb-3 px-3 py-1 text-xs bg-green-100 text-green-600 rounded-full">
        Active
      </span>
    {% endif %}

    <!-- Actions -->
    <div class="mt-auto w-full">
      <a href="{% url 'qrcode_detail' qr.id %}"
         class="block w-full px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700">
        View Details
      </a>
    </div>

  </div>
  {% endfor %}

</div>

{% else %}
<!-- Empty State -->
<div class="bg-white rounded-xl p-10 text-center">
  <p class="text-lg font-semibold">No QR codes yet</p>
  <p class="text-sm text-gray-500 mb-4">
    Create your first QR code to get started
  </p>
  <a href="{% url 'create_qrcode' %}"
     class="px-6 py-3 bg-indigo-600 text-white rounded-lg">
    Create QR
  </a>
</div>
{% endif %}

{% endblock %}
