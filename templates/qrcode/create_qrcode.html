{% extends "base.html" %}
{% block title %}Create QR Code{% endblock %}
{% block content %}

<div class="max-w-xl mx-auto space-y-6">

  <!-- Header -->
  <div class="text-center">
    <h2 class="text-2xl font-bold text-gray-800">
      Create QR Code
    </h2>
    <p class="text-sm text-gray-500">
      Generate a QR code for any URL
    </p>
  </div>

  <!-- Form Card -->
  <div class="bg-white rounded-2xl shadow-sm border p-6">

    <form method="POST" class="space-y-4">
      {% csrf_token %}

      <!-- URL Input -->
      <div>
        <label class="block text-sm font-medium text-gray-600 mb-1">
          Destination URL
        </label>
        <input
          type="url"
          name="url"
          required
          placeholder="https://example.com"
          class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-indigo-500 focus:outline-none"
        >
      </div>

      <!-- Info -->
      <div class="flex justify-between text-xs text-gray-500">
        <span>üîí Private to your account</span>
        <span>‚è≥ Expires automatically</span>
      </div>

      <!-- Submit -->
      <button
        type="submit"
        class="w-full py-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700">
        Generate QR Code
      </button>

    </form>

  </div>

  {% if qr %}
  <div class="bg-gray-50 rounded-2xl border p-6 text-center space-y-4">

    <p class="font-semibold text-gray-700">
      Your QR Code
    </p>

    <img
      src="{{ qr.qrcode.url }}"
      alt="QR Code"
      class="mx-auto h-48 w-48 object-contain"
    >

    <p class="text-sm text-gray-600 break-all">
      {{ qr.url }}
    </p>

    <div class="flex flex-col sm:flex-row justify-center gap-3 pt-2">

      <a href="{{ qr.qrcode.url }}" download
         class="px-5 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700">
        Download
      </a>

      <a href="{% url 'qrcode_list' %}"
         class="px-5 py-2 border rounded-lg hover:bg-gray-100">
        View All QR Codes
      </a>

    </div>

  </div>
  {% endif %}

</div>

{% endblock %}
